<!--
 ä½¿ç”¨æ­¤é¡µé¢è¿›è¡Œè°ƒè¯•ã€‚

 ç¼–è¾‘å™¨å·¥å…·ä½œä¸ºgitå­æ¨¡å—åŠ è½½ã€‚
 æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ`yarn pull_tools`æ¥æ‹‰æ¨¡å—å¹¶å¼€å§‹è¯•éªŒã€‚
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Editor.js ğŸ¤©ğŸ§¦ğŸ¤¨ ä¾‹å­</title>
    <link
      href="https://fonts.googleapis.com/css?family=PT+Mono"
      rel="stylesheet"
    />
    <link href="assets/demo.css" rel="stylesheet" />
    <script src="assets/json-preview.js"></script>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
  </head>
  <body>
    <div class="ce-example">
      <div class="ce-example__header">
        <a class="ce-example__header-logo" href="https://codex.so/editor"
          >Editor.js ğŸ¤©ğŸ§¦ğŸ¤¨</a
        >

        <div class="ce-example__header-menu">
          <a href="https://github.com/editor-js" target="_blank">æ’ä»¶</a>
          <a href="https://editorjs.io/usage" target="_blank">ç”¨æ³•</a>
          <a href="https://editorjs.io/configuration" target="_blank">é…ç½®</a>
          <a href="https://editorjs.io/creating-a-block-tool" target="_blank"
            >API</a
          >
        </div>
      </div>
      <div class="ce-example__content _ce-example__content--small">
        <div id="editorjs"></div>
        <div id="hint" style="text-align: center">
          æ‰¾ä¸åˆ°å­æ¨¡å—. æ‰§è¡Œ <code class="inline-code">yarn pull_tools</code>
        </div>
        <div class="ce-example__button" id="saveButton">editor.save()</div>
        <div class="ce-example__statusbar">
          åªè¯»:
          <b id="readonly-state"> Off </b>
          <div class="ce-example__statusbar-button" id="toggleReadOnlyButton">
            åˆ‡æ¢
          </div>
        </div>
      </div>
      <div class="ce-example__output">
        <pre class="ce-example__output-content" id="output"></pre>

        <div class="ce-example__output-footer">
          <a href="https://codex.so" style="font-weight: bold">ç”± CodeX ç¼–å†™</a>
        </div>
      </div>
    </div>

    <!-- åŠ è½½ Tools -->
    <!--
   æ‚¨å¯ä»¥å°†å·¥å…·ä¸Šè½½åˆ°æ‚¨çš„é¡¹ç›®ç›®å½•ä¸­ï¼Œå¹¶æŒ‰ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨ã€‚

   æ‚¨ä¹Ÿå¯ä»¥ä» CDN åŠ è½½æ¯ä¸ªå·¥å…·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ NPM / Yarn åŒ…ã€‚

   åœ¨å·¥å…·çš„è‡ªè¿°æ–‡ä»¶ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼š
   https://github.com/editor-js/header#installation
   -->
    <script
      src="./tools/header/dist/bundle.js"
      onload="document.getElementById('hint').hidden = true"
    ></script>
    <!-- æ ‡é¢˜ -->
    <script src="./tools/simple-image/dist/bundle.js"></script>
    <!-- å›¾ç‰‡ -->
    <script src="./tools/delimiter/dist/bundle.js"></script>
    <!-- åˆ†éš”çº¿ -->
    <script src="./tools/list/dist/bundle.js"></script>
    <!-- åˆ—è¡¨ -->
    <script src="./tools/checklist/dist/bundle.js"></script>
    <!-- æ£€æŸ¥æ¸…å• -->
    <script src="./tools/quote/dist/bundle.js"></script>
    <!-- å¼•ç”¨ -->
    <script src="./tools/code/dist/bundle.js"></script>
    <!-- ä»£ç  -->
    <script src="./tools/embed/dist/bundle.js"></script>
    <!-- åµŒå…¥ -->
    <script src="./tools/table/dist/bundle.js"></script>
    <!-- è¡¨æ ¼ -->
    <script src="./tools/link/dist/bundle.js"></script>
    <!-- é“¾æ¥ -->
    <script src="./tools/raw/dist/bundle.js"></script>
    <!-- åŸå§‹ HTML -->
    <script src="./tools/warning/dist/bundle.js"></script>
    <!-- è­¦å‘Š -->

    <script src="./tools/marker/dist/bundle.js"></script>
    <!-- æ ‡è®° -->
    <script src="./tools/inline-code/dist/bundle.js"></script>
    <!-- è¡Œå†…ä»£ç  -->

    <!-- åŠ è½½ Editor.js's æ ¸å¿ƒ -->
    <script src="../dist/editor.js"></script>

    <!-- åˆå§‹åŒ– -->
    <script>
      /**
       * è¦åˆå§‹åŒ–ç¼–è¾‘å™¨ï¼Œè¯·ä½¿ç”¨ configuration å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹
       * è¯¦ç»†è¯·çœ‹ docs/installation.md
       */
      var editor = new EditorJS({
        /**
         * æ¿€æ´»/å…³é—­ åªè¯»æ¨¡å¼
         */
        readOnly: false,

        /**
         * Editor åŒ…è£¹å™¨
         */
        holder: "editorjs",

        /**
         * å¸¸è§çš„å†…ç½®å·¥å…·æ è®¾ç½®
         * - å¦‚æœä¸ºçœŸ(æˆ–æœªæŒ‡å®š)ï¼Œå°†ä½¿ç”¨æ¥è‡ª 'tool' çš„é¡ºåºå±æ€§
         * - å¦‚æœ Tool åç§°æ•°ç»„ï¼Œåˆ™ä½¿ç”¨æ­¤é¡ºåº
         */
        // inlineToolbar: ['link', 'marker', 'bold', 'italic'],
        // inlineToolbar: true,

        /**
         * Tools åˆ—è¡¨
         */
        tools: {
          /**
           * æ¯ä¸ªå·¥å…·éƒ½æ˜¯ä¸€ä¸ªæ’ä»¶ã€‚é€šè¿‡ `class` é€‰é¡¹å’Œå¿…è¦çš„è®¾ç½®ä¼ é€’å®ƒä»¬ {@link docs/tools.md}
           */
          header: {
            class: Header,
            inlineToolbar: ["marker", "link"],
            config: {
              placeholder: "Header",
            },
            shortcut: "CMD+SHIFT+H",
          },

          /**
           * æˆ–ç›´æ¥ä¼ é€’ç±»è€Œä¸è¿›è¡Œä»»ä½•é…ç½®
           */
          image: SimpleImage,

          list: {
            class: List,
            inlineToolbar: true,
            shortcut: "CMD+SHIFT+L",
          },

          checklist: {
            class: Checklist,
            inlineToolbar: true,
          },

          quote: {
            class: Quote,
            inlineToolbar: true,
            config: {
              quotePlaceholder: "Enter a quote",
              captionPlaceholder: "Quote's author",
            },
            shortcut: "CMD+SHIFT+O",
          },

          warning: Warning,

          marker: {
            class: Marker,
            shortcut: "CMD+SHIFT+M",
          },

          code: {
            class: CodeTool,
            shortcut: "CMD+SHIFT+C",
          },

          delimiter: Delimiter,

          inlineCode: {
            class: InlineCode,
            shortcut: "CMD+SHIFT+C",
          },

          linkTool: LinkTool,

          raw: RawTool,

          embed: Embed,

          table: {
            class: Table,
            inlineToolbar: true,
            shortcut: "CMD+ALT+T",
          },
        },

        /**
         * æ­¤å·¥å…·å°†ä½œä¸ºé»˜è®¤å€¼ä½¿ç”¨
         */
        // defaultBlock: 'paragraph',

        /**
         * åˆå§‹ç¼–è¾‘å™¨æ•°æ®
         */
        data: {
          blocks: [
            {
              type: "header",
              data: {
                text: "Editor.js",
                level: 2,
              },
            },
            {
              type: "paragraph",
              data: {
                text:
                  "å˜¿ã€‚ è®¤è¯†æ–°çš„ç¼–è¾‘å™¨ã€‚ åœ¨æ­¤é¡µé¢ä¸Šï¼Œæ‚¨å¯ä»¥çœ‹åˆ°å®ƒçš„è¿è¡Œ-å°è¯•ç¼–è¾‘æ­¤æ–‡æœ¬ã€‚ è¯¥é¡µé¢çš„æºä»£ç åŒ…å«è¿æ¥å’Œé…ç½®çš„ç¤ºä¾‹ã€‚",
              },
            },
            {
              type: "header",
              data: {
                text: "Key features",
                level: 3,
              },
            },
            {
              type: "list",
              data: {
                items: [
                  "å®ƒæ˜¯ä¸€ä¸ªå—æ ·å¼çš„ç¼–è¾‘å™¨",
                  "å®ƒä»¥ JSON è¿”å›å¹²å‡€çš„æ•°æ®è¾“å‡º",
                  "è®¾è®¡ä¸ºå¯æ‰©å±•å’Œå¯æ’æ‹”çš„ä¸€ä¸ªç®€å•çš„ API",
                ],
                style: "unordered",
              },
            },
            {
              type: "header",
              data: {
                text: "ä»€ä¹ˆæ˜¯ Â«å—æ ·å¼ç¼–è¾‘å™¨Â»",
                level: 3,
              },
            },
            {
              type: "paragraph",
              data: {
                text:
                  'ç»å…¸ç¼–è¾‘å™¨ä¸­çš„å·¥ä½œåŒºç”±å•ä¸ª contenteditable å…ƒç´ ç»„æˆï¼Œç”¨äºåˆ›å»ºä¸åŒçš„ HTML æ ‡ç­¾ã€‚ Editor.js <mark class="cdx-marker">å·¥ä½œç©ºé—´ç”±å•ç‹¬çš„å—ç»„æˆï¼šæ®µè½ï¼Œæ ‡é¢˜ï¼Œå›¾åƒï¼Œåˆ—è¡¨ï¼Œå¼•å·ç­‰</mark>ã€‚å®ƒä»¬æ¯ä¸ªéƒ½æ˜¯ç”±Pluginæä¾›å¹¶ç”±Editor\'s Coreç»Ÿä¸€çš„ç‹¬ç«‹çš„contenteditableå…ƒç´ ï¼ˆæˆ–æ›´å¤æ‚çš„ç»“æ„ï¼‰ã€‚',
              },
            },
            {
              type: "paragraph",
              data: {
                text: `æœ‰æ•°åç§<a href="https://github.com/editor-js">ç°æˆçš„å—</a>ä»¥åŠç”¨äºåˆ›å»ºæ‰€éœ€ä»»ä½•å—çš„<a href="https://editorjs.io/creating-a-block-tool">ç®€å• API</a>ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¸ºtweetã€Instagramå¸–å­ã€è°ƒæŸ¥å’ŒæŠ•ç¥¨ã€ctaæŒ‰é’®ç”šè‡³æ¸¸æˆè®¾ç½®å—ã€‚`,
              },
            },
            {
              type: "header",
              data: {
                text: "ä»€ä¹ˆæ˜¯å¹²å‡€çš„æ•°æ®è¾“å‡º",
                level: 3,
              },
            },
            {
              type: "paragraph",
              data: {
                text:
                  "ç»å…¸çš„WYSIWYGç¼–è¾‘å™¨ä¼šåŒæ—¶ç”Ÿæˆå¸¦æœ‰å†…å®¹æ•°æ®å’Œå†…å®¹å¤–è§‚çš„åŸå§‹HTMLæ ‡ç­¾ã€‚ç›¸åï¼ŒEditor.jsè¾“å‡ºå¸¦æœ‰æ¯ä¸ªBlockæ•°æ®çš„JSONå¯¹è±¡ã€‚æ‚¨å¯ä»¥åœ¨ä¸‹é¢çœ‹åˆ°ä¸€ä¸ªç¤ºä¾‹",
              },
            },
            {
              type: "paragraph",
              data: {
                text: `å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨ç»™å®šçš„æ•°æ®ï¼šä½¿ç”¨<code class="inline-code">Webå®¢æˆ·ç«¯</code>çš„HTMLæ¸²æŸ“ï¼Œä¸º<code class="inline-code">ç§»åŠ¨åº”ç”¨</code>ç¨‹åºæœ¬æœºæ¸²æŸ“ï¼Œä¸º<code class="inline-code">Facebook Instant Articlesæˆ–Google AMP</code>åˆ›å»ºæ ‡è®°ï¼Œç”Ÿæˆ<code class="inline-code">éŸ³é¢‘ç‰ˆæœ¬</code>ç­‰ç­‰ã€‚`,
              },
            },
            {
              type: "paragraph",
              data: {
                text: "å¹²å‡€çš„æ•°æ®å¯¹äºåœ¨åç«¯æ¸…ç†ï¼ŒéªŒè¯å’Œå¤„ç†å¾ˆæœ‰ç”¨ã€‚",
              },
            },
            {
              type: "delimiter",
              data: {},
            },
            {
              type: "paragraph",
              data: {
                text:
                  "æˆ‘ä»¬å·²ç»ä¸ºè¿™ä¸ªé¡¹ç›®è¿›è¡Œäº†ä¸‰å¹´å¤šçš„å·¥ä½œã€‚ å‡ ä¸ªå¤§å‹åª’ä½“é¡¹ç›®å¯å¸®åŠ©æˆ‘ä»¬æµ‹è¯•å’Œè°ƒè¯•ç¼–è¾‘å™¨ï¼Œä»¥ä½¿å…¶æ ¸å¿ƒæ›´åŠ ç¨³å®šã€‚åŒæ—¶ï¼Œæˆ‘ä»¬æ˜¾ç€æ”¹è¿›äº†APIã€‚ç°åœ¨ï¼Œå®ƒå¯ä»¥ç”¨äºä¸ºä»»ä½•ä»»åŠ¡åˆ›å»ºä»»ä½•æ’ä»¶ã€‚ å¸Œæœ›ä½ å–œæ¬¢ã€‚ğŸ˜",
              },
            },
            {
              type: "image",
              data: {
                url: "assets/codex2x.png",
                caption: "",
                stretched: false,
                withBorder: true,
                withBackground: false,
              },
            },
          ],
        },
        onReady: function () {
          saveButton.click();
        },
        onChange: function () {
          console.log("something changed");
        },
      });

      /**
       * ä¿å­˜æŒ‰é’®
       */
      const saveButton = document.getElementById("saveButton");

      /**
       * åˆ‡æ¢åªè¯»æŒ‰é’®
       */
      const toggleReadOnlyButton = document.getElementById(
        "toggleReadOnlyButton"
      );
      const readOnlyIndicator = document.getElementById("readonly-state");

      /**
       * ä¿å­˜ä¾‹å­
       */
      saveButton.addEventListener("click", function () {
        editor
          .save()
          .then((savedData) => {
            cPreview.show(savedData, document.getElementById("output"));
          })
          .catch((error) => {
            console.error("Saving error", error);
          });
      });

      /**
       * åˆ‡æ¢åªè¯»ä¾‹å­
       */
      toggleReadOnlyButton.addEventListener("click", async () => {
        const readOnlyState = await editor.readOnly.toggle();

        readOnlyIndicator.textContent = readOnlyState ? "On" : "Off";
      });
    </script>
  </body>
</html>
